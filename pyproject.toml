[build-system]
build-backend = "setuptools.build_meta"

requires = [ "setuptools>=42", "wheel" ]

[project]
name = "json2xml"
version = "5.2.1" # Replace with the dynamic version if needed
description = "Simple Python Library to convert JSON to XML"
readme = "README.rst"
keywords = [ "json2xml" ]
license = { text = "Apache Software License 2.0" }
authors = [
  { name = "Vinit Kumar", email = "mail@vinitkumar.me" },
]
requires-python = ">=3.10"
classifiers = [
  "Development Status :: 6 - Mature",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: Apache Software License",
  "Natural Language :: English",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: Implementation :: CPython",
  "Programming Language :: Python :: Implementation :: PyPy",
  "Topic :: Software Development :: Libraries :: Python Modules",
]
dependencies = [
  "coverage",
  "defusedxml",
  "pytest",
  "pytest-cov",
  "setuptools",
  "urllib3",
  "xmltodict>=0.12",
]

optional-dependencies.test = [
  "pytest==7.0.1",
]
urls.Homepage = "https://github.com/vinitkumar/json2xml"

[dependency-groups]
dev = [
  "mypy>=1.17.1",
  "pre-commit>=4.3",
]

[tool.setuptools.packages.find]
include = [ "json2xml" ]

[tool.ruff]
line-length = 119

exclude = [
  "**/migrations/**",
  ".env",
  ".venv",
]
lint.select = [
  "E",
  "F",
  "I",
  "W",
]
lint.ignore = [
  "E501", # line too long
  "E701", # multiple statements on one line (colon)
  "F403", # 'from module import *' used; unable to detect undefined names
]

[tool.pytest.ini_options]
testpaths = [ "tests" ]
python_files = [ "test_*.py" ]
xvs = true
addopts = "--cov=json2xml --cov-report=xml:coverage/reports/coverage.xml --cov-report=term"
